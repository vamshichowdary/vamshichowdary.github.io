---
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import Socials from "@/components/Socials.astro";
import Hr from "@/components/Hr.astro";
import ExperienceCard from "@/components/ExperienceCard.astro";
import PublicationCard from "@/components/PublicationCard.astro";
import PostCard from "@/components/PostCard.astro";
import { SOCIALS } from "@/constants";

const posts = await getCollection("blog");
const sortedPosts = posts.sort(
  (a, b) => b.data.pubDatetime.getTime() - a.data.pubDatetime.getTime()
);
---

<Layout>
  <Header />
  <main id="main-content" data-layout="index">
    <div class="max-w-6xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-12 gap-12">
      
      <!-- Left Sidebar (Profile + CV) - Takes 4/12 columns -->
      <div class="md:col-span-4 space-y-12">
        
        <!-- Profile Header -->
        <div class="flex flex-col items-center md:items-start space-y-4">
<img src="/assets/images/profile.JPG" alt="Profile Image" class="w-48 h-48 rounded-full border-4 border-white dark:border-gray-900 shadow-lg object-cover shrink-0" />
          {
            SOCIALS.length > 0 && (
              <div class="flex flex-wrap align-center md:justify-start gap-2">
                <Socials />
              </div>
            )
          }
          <div class="text-center md:text-left">
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">vamchowdary72[at]gmail</p>
          </div>
        </div>

        <hr class="border-gray-200 dark:border-gray-700" />

        <!-- Education in Sidebar -->
        <section id="education">
          <h2 class="text-lg font-bold tracking-wide mb-4 uppercase text-gray-800 dark:text-gray-200">Education</h2>
          <ol class="relative border-s border-gray-200 dark:border-gray-700 ms-3 space-y-6">
            <ExperienceCard
              date="2021-Present"
              title="PhD"
              company="UCSB"
              description={[
                "Understanding and designing DNN architectures from approximation theoretic perspective, with focus on efficincy and provable generalization.",
                "Advisor: Prof. Shivkumar Chandrasekaran"
              ]}
            />
            <ExperienceCard
              date="2019-2021"
              title="Masters"
              company="UCSB"
              description={[
                "Thesis: A study of generalization in deep neural networks",
                "GPA: 4.0/4.0"
              ]}
            />
            <ExperienceCard
              date="2012-2016"
              title="Bachelors in ECE"
              company="IIT Roorkee"
              description={[
                "Thesis: Low-cost display devices using nanoparticles",
                "Advisors: Prof. Brijesh Kumar and Prof. Sanjeev Manhas",
                "GPA: 8.09/10.0"
              ]}
            />
          </ol>
        </section>

        <hr class="border-gray-200 dark:border-gray-700" />

        <!-- Experience in Sidebar -->
         <section id="experience">
           <h2 class="text-lg font-bold tracking-wide mb-4 uppercase text-gray-800 dark:text-gray-200">Experience</h2>
           <ol class="relative border-s border-gray-200 dark:border-gray-700 ms-3 space-y-8">
            <ExperienceCard
              date="Summer 2025"
              title="Applied Scientist Intern"
              company="Amazon AGI"
              description={[
                "Trained a novel Mixture of Experts (MoE) architecture to reduce inter-node communication costs."
              ]}
            />
            <ExperienceCard
              date="Jan 2024-Sep 2024"
              title="ML Researcher"
              company="Stealth startup"
              description={[
                "Part of the founding team, I led groundwork and architectural setup for ML based solutions, developing Vision, NLP, and speech-based models for tasks in the supply chain industry."
              ]}
            />
            <ExperienceCard
              date="Summer 2022"
              title="Software Intern"
              company="Apple"
              description={[
                "Developed physics based algorithms to improve the Fall Detection feature. Created data processing pipelines to efficiently handle hundreds of hours of time series data."
              ]}
            />
             <ExperienceCard
              date="2020 - 2021"
              title="Grad Researcher"
              company="UCSF"
              description={[
                "Developed Medviz - an AWS web portal and visualization tool for deploying machine learning models for processing of large PET/MRI datasets."
              ]}
            />
            <ExperienceCard
              date="Summer 2020"
              title="ML Intern"
              company="Briteseed"
              description={[
                "Using deep learning and computer vision on hyperspectral image data from surgical tools to detect tissues."
              ]}
            />
            <ExperienceCard
              date="2016 - 2019"
              title="Engineer"
              company="Samsung Research"
              description={[
                "Music Information Retrieval (MIR).",
              ]}
            />
            <ExperienceCard
              date="Summer 2015"
              title="Embedded Intern"
              company="VIOS Medical"
              description={[
                 "Characterized different wireless modules for energy consumption and connectivity.",
                 "Developed software packaging and Linux distribution tools."
              ]}
            />
           </ol>
        </section>

      </div>

      <!-- Right Main Content (Intro + Publications) - Takes 8/12 columns -->
      <div class="md:col-span-8 space-y-12">
        
        <!-- Intro Section -->
        <section id="intro" class="prose dark:prose-invert max-w-none text-lg leading-relaxed">
          <p>
            I am a fifth year PhD student at University of California Santa Barbara (UCSB), advised by <a href="http://scg.ece.ucsb.edu/people.html">Shiv Chandrasekaran</a>.
          </p>
          <p>
             My PhD thesis focusses on approximation theoretic approaches to design neural network architectures that are efficient and have robust generalization. My most recent work involves efficient neural network based solvers for PDEs.
          </p>
        </section>

        <hr class="border-gray-200 dark:border-gray-700" />

        <!-- Posts Section -->
        <section id="posts">
          <h2 class="text-2xl font-bold tracking-wide mb-8 uppercase text-gray-900 dark:text-white border-b-2 border-accent inline-block pb-1">Posts</h2>
          {
            sortedPosts.length > 0 ? (
              sortedPosts.map(({ data, id }) => (
                <PostCard href={`/posts/${id}`} frontmatter={data} />
              ))
            ) : (
              <p class="text-gray-500 italic">No posts yet.</p>
            )
          }
        </section>

        <hr class="border-gray-200 dark:border-gray-700" />

        <!-- Publications -->
        <section id="publications">
          <h2 class="text-2xl font-bold tracking-wide mb-8 uppercase text-gray-900 dark:text-white border-b-2 border-accent inline-block pb-1">Publications</h2>
          
          <PublicationCard
            title="MNO: A Multi-modal Neural Operator for Parametric Nonlinear BVPs"
            authors="Vamshi C Madala, N Govindarajan, S Chandrasekaran"
            venue="AAAI Workshop on AI to Accelerate Science and Engineering (AI2ASE), 2026"
            paperUrl="https://arxiv.org/abs/2507.11870"
            codeUrl="https://github.com/vamshichowdary/MultimodalNeuralOperator"
            thumbnail="/assets/images/publications/fmm_block.png"
          />
          
          <PublicationCard
            title="CNNs Avoid the Curse of Dimensionality by Learning on Patches"
            authors="Vamshi C Madala, S Chandrasekaran, J Bunk"
            venue="IEEE Open Journal of Signal Processing, vol. 4, pp. 233-241, 2023"
            paperUrl="https://ieeexplore.ieee.org/abstract/document/10107763"
            codeUrl="https://github.com/vamshichowdary/cod-cnn"
            thumbnail="/assets/images/publications/cod_cnn.png"
          />

          <PublicationCard
            title="Understanding and Visualizing Generalization in UNets"
            authors="A Rajagopal, Vamshi C Madala, T.A Hope, P Larson"
            venue="Proceedings of the Fourth Conference on Medical Imaging with Deep Learning, 2021"
            paperUrl="https://proceedings.mlr.press/v143/rajagopal21a.html"
            codeUrl="https://gitlab.com/abhe/UNet-Generalization_MIDL2021"
            thumbnail="/assets/images/publications/midl.jpg"
          />
          
          <PublicationCard
            title="Predicting Generalization in Deep Learning via Local Measures of Distortion"
            authors="A Rajagopal, Vamshi C Madala, S Chandrasekaran, P Larson"
            venue="arXiv preprint arXiv:2012.06969, 2020"
            paperUrl="https://arxiv.org/abs/2012.06969"
            thumbnail="/assets/images/publications/cluster.jpg"
          />

          <PublicationCard
            title="A Study of Generalization in Deep Neural Networks"
            authors="Vamshi C Madala"
            venue="Master's Thesis, University of California, Santa Barbara, 2021"
            paperUrl="https://www.proquest.com/dissertations-theses/study-generalization-deep-neural-networks/docview/2604320736/se-2?accountid=14522"
            thumbnail="/assets/images/publications/ms.jpg"
          />
        </section>
      </div>
    </div>
  </main>
  <Footer />
</Layout>
